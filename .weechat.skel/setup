/print # vim: fdm=marker

/print # Servers {{{
/print # ----------------------------------------

/disconnect -all

/proxy del -all
/proxy add default socks5 127.0.0.1 1081
/proxy add tor socks5 127.0.0.1 9050

/set irc.server_default.capabilities account-notify,away-notify,extended-join,multi-prefix,server-time,userhost-in-names
/set irc.server_default.default_msg_part ""
/set irc.server_default.default_msg_quit ""
/set irc.server_default.nicks mkoskar
/set irc.server_default.proxy default
/set irc.server_default.realname "Miroslav Koskar <http://mkoskar.com/>"
/set irc.server_default.sasl_fail reconnect
/set irc.server_default.sasl_key %h/keys/irc_sasl.pem
/set irc.server_default.sasl_mechanism ecdsa-nist256p-challenge
/set irc.server_default.sasl_timeout 30
/set irc.server_default.sasl_username mkoskar
/set irc.server_default.ssl on
/set irc.server_default.ssl_cert %h/keys/irc_ssl.pem
/set irc.server_default.username mkoskar

/server del bitlbee
/server add bitlbee localhost
/set irc.server.bitlbee.autoconnect on
/set irc.server.bitlbee.autojoin #twitter_mkoskar
/set irc.server.bitlbee.nicks miro
/set irc.server.bitlbee.proxy ""
/set irc.server.bitlbee.sasl_mechanism plain
/set irc.server.bitlbee.sasl_password ${sec.data.bitlbee}
/set irc.server.bitlbee.sasl_username miro
/set irc.server.bitlbee.ssl off
/set irc.server.bitlbee.username miro

/server del freenode
/server add freenode chat.freenode.net/6697
/set irc.server.freenode.autojoin ##linux,##security,#archlinux,#archlinux-offtopic,#bash,#git,#github,#go-nuts,#nginx,#node.js,#pocoo,#python,#scala,#systemd,#tmux,#vim,#vpsfree,#web,#weechat,#zsh
/set irc.server.freenode.command "/mode mkoskar +iwR"
/set irc.server.freenode.ssl_dhkey_size 1024

/server del gitter
/server add gitter irc.gitter.im/6697
/set irc.server.gitter.autojoin #neovim/neovim
/set irc.server.gitter.password ${sec.data.gitter}
/set irc.server.gitter.ssl_dhkey_size 1024

/server del mozilla
/server add mozilla irc.mozilla.org/6697
/set irc.server.mozilla.autojoin #js,#rust,#webdev
/set irc.server.mozilla.command "/mode mkoskar +iwR"
/set irc.server.mozilla.sasl_mechanism plain
/set irc.server.mozilla.sasl_password ${sec.data.mozilla}

/server del oftc
/server add oftc irc.oftc.net/6697
/set irc.server.oftc.autojoin #bitlbee,#debian,#suckless,#tor
/set irc.server.oftc.command "/mode mkoskar +iswR"
/set irc.server.oftc.sasl_fail continue

/print # /secure passphrase <input-passphrase>
/print # /secure set bitlbee <input-password-here>
/print # /secure set gitter <input-password-here>
/print # /secure set mozilla <input-password-here>

/print # }}}

/print # General {{{
/print # ----------------------------------------

/set irc.color.message_join default
/set irc.color.message_quit default
/set irc.ctcp.clientinfo ""
/set irc.ctcp.finger ""
/set irc.ctcp.source ""
/set irc.ctcp.time ""
/set irc.ctcp.userinfo ""
/set irc.ctcp.version ""
/set irc.look.buffer_switch_autojoin off
/set irc.look.highlight_server ""
/set irc.look.pv_buffer merge_all
/set irc.look.server_buffer independent
/set irc.msgbuffer.whois current
/set sec.crypt.passphrase_file ~/.weechat/passphrase

/set weechat.color.chat_day_change 245
/set weechat.color.chat_highlight_bg black
/set weechat.color.chat_inactive_buffer 239
/set weechat.color.chat_nick_colors brown,magenta,cyan,lightgreen,lightblue,lightmagenta,lightcyan,110
/set weechat.color.chat_prefix_buffer default
/set weechat.color.chat_prefix_buffer_inactive_buffer 239
/set weechat.color.chat_prefix_more white
/set weechat.color.chat_read_marker 237
/set weechat.color.chat_tags lightred
/set weechat.color.chat_text_found black
/set weechat.color.chat_text_found_bg brown
/set weechat.color.emphasized black
/set weechat.color.emphasized_bg brown
/set weechat.color.input_text_not_found lightred
/set weechat.color.nicklist_away default
/set weechat.color.separator 237
/set weechat.color.status_name yellow
/set weechat.color.status_name_ssl lightgreen
/set weechat.look.buffer_notify_default message
/set weechat.look.buffer_time_format ""
/set weechat.look.color_inactive_window off
/set weechat.look.hotlist_prefix ""
/set weechat.look.key_bind_safe off
/set weechat.look.prefix_align_max 12
/set weechat.look.prefix_align_min 8
/set weechat.look.prefix_buffer_align left
/set weechat.look.prefix_same_nick " "
/set weechat.look.read_marker_always_show on
/set weechat.look.scroll_page_percent 50
/set weechat.look.separator_horizontal ""
/set weechat.look.window_separator_horizontal off
/set weechat.plugin.autoload *,!exec,!fifo,!guile,!lua,!relay,!ruby,!tcl,!xfer
/set weechat.startup.display_logo off
/set weechat.startup.display_version off

/set aspell.check.default_dict en_us
/set aspell.check.enabled on
/set aspell.check.real_time on
/set aspell.check.suggestions 10

/print # }}}

/print # Scripts {{{
/print # ----------------------------------------

/script install autosort.py
/script install beep.pl
/script install buffers.pl
/script install colorize_nicks.py
/script install go.py
/script install grep.py
/script install highmon.pl

/set buffers.color.current_bg 237
/set buffers.color.current_fg *white
/set buffers.color.hotlist_highlight_fg lightred
/set buffers.color.hotlist_private_bg red
/set buffers.color.hotlist_private_fg *white
/set buffers.color.none_channel_fg lightgreen
/set buffers.color.number default
/set buffers.color.number_char white
/set buffers.color.queries_default_fg lightcyan
/set buffers.look.hotlist_counter on
/set buffers.look.indenting on
/set buffers.look.name_size_max 11
/set buffers.look.number_char " "
/set buffers.look.prefix_for_query "/q "
/set buffers.look.suffix_bufname " "

/set plugins.var.perl.highmon.alignment channel
/set plugins.var.perl.highmon.short_names on
/set plugins.var.python.go.color_name default,234
/set plugins.var.python.go.color_name_highlight *green,234
/set plugins.var.python.go.color_name_highlight_selected black,white
/set plugins.var.python.go.color_number *white,default
/set plugins.var.python.go.color_number_selected *white,red
/set plugins.var.python.go.sort number,beginning
/set plugins.var.python.go.use_core_instead_weechat on
/set plugins.var.python.vimode.no_warn on

/print # }}}

/print # Bars {{{
/print # ----------------------------------------

/bar del -all

/bar add input1 root bottom 1 0 [mode_indicator],[input_prompt]+(away),[input_search],[input_paste],input_text
/bar set input1 priority 1000
/bar del input
/bar set input1 name input

/bar add status root bottom 1 0 [time],{tabs},[buffer_count],[buffer_plugin],buffer_number+:+buffer_name+(buffer_modes)+{buffer_nicklist_count}+buffer_zoom+buffer_filter,[lag],completion,scroll,aspell_suggest
/bar set status color_bg 237
/bar set status priority 500

/bar add title window,${inactive} top 1 0 >,buffer_name,>,buffer_title
/bar set title color_bg 237
/bar set title priority 500

/bar add title_active window,${active} top 1 0  >,buffer_name,>,buffer_title
/bar set title_active color_bg 237
/bar set title_active color_fg *white
/bar set title_active priority 500

/bar default nicklist
/bar set nicklist conditions ${nicklist} && ${nicklist_local}

/bar set buffers size 22

/print # }}}

/print # Triggers {{{
/print # ----------------------------------------
/print # Proper quoting of trigger's arguments is critical!
/print # See also <https://github.com/weechat/weechat/wiki/Triggers>.

/trigger default -yes

/trigger addreplace url_color modifier weechat_print
/trigger set url_color regex ;\S+://\S+;${color:yellow}${re:0}${color:reset}

/trigger addreplace last_nick print irc.*;notify_message
/trigger set last_nick conditions ${tg_displayed} && ${type} == channel && ${tg_tag_nick} != ${nick}
/trigger set last_nick command /buffer set localvar_set_last_nick ${tg_tag_nick}

/trigger addreplace complete_last_nick command_run "/input complete_next"
/trigger set complete_last_nick conditions ${type} == channel && ${buffer.input_buffer_length} == 0 && ${last_nick}
/trigger set complete_last_nick command /input insert ${last_nick}

/print # }}}

/print # Ignores {{{
/print # ----------------------------------------

/ignore del -all

/print # }}}

/print # Filters {{{
/print # ----------------------------------------

/filter del -all

/filter add irc_smart * irc_smart_filter *
/filter add nick_root irc.bitlbee.* nick_root *
/filter add welcome_mozilla irc.server.mozilla irc_notice+notify_private You are connected using SSL
/filter add welcome_oftc irc.server.oftc irc_notice+notify_private Activating Cloak

/print # }}}

/print # Key Bindings {{{
/print # ----------------------------------------

/key resetall -yes

/key bind ctrl-G /window scroll_bottom
/key bind ctrl-M /input return ; /window scroll_bottom
/key bind ctrl-N /input history_next
/key bind ctrl-O /go
/key bind ctrl-P /input history_previous
/key bind ctrl-Sctrl-U /input set_unread_current_buffer ; /window scroll_bottom
/key bind meta-( /window -1
/key bind meta-) /window +1
/key bind meta-, /input jump_previously_visited_buffer
/key bind meta-. /input jump_next_visited_buffer
/key bind meta-;meta-b /TOGGLE_BUFFERS
/key bind meta-;meta-n /nicklist_toggle
/key bind meta-;meta-t /toggle_string weechat.look.buffer_time_format!%H:%M:%S!""
/key bind meta-< /window -1
/key bind meta-> /window +1
/key bind meta-H /input hotlist_clear ; /CLH
/key bind meta-J /window scroll_down
/key bind meta-K /window scroll_up
/key bind meta-N /buffer +1
/key bind meta-P /buffer -1
/key bind meta-g /window scroll_bottom
/key bind meta-jmeta-b /window bare
/key bind meta-jmeta-j /cursor go chat
/key bind meta-jmeta-n /cursor go nicklist
/key bind meta-s /server jump
/key bind meta-wmeta-h /window left
/key bind meta-wmeta-j /window down
/key bind meta-wmeta-k /window up
/key bind meta-wmeta-l /window right
/key bind meta-wmeta-u /allwin_set_unread
/key bind meta2-20~ /bar scroll title_active * -30%
/key bind meta2-21~ /bar scroll title_active * +30%
/key unbind meta-0
/key unbind meta-1
/key unbind meta-2
/key unbind meta-3
/key unbind meta-4
/key unbind meta-5
/key unbind meta-6
/key unbind meta-7
/key unbind meta-8
/key unbind meta-9
/key unbind meta-h
/key unbind meta-l

/key bindctxt cursor h /cursor move left
/key bindctxt cursor j /cursor move down
/key bindctxt cursor k /cursor move up
/key bindctxt cursor l /cursor move right
/key bindctxt cursor meta-h /cursor move area_left
/key bindctxt cursor meta-j /cursor move area_down
/key bindctxt cursor meta-k /cursor move area_up
/key bindctxt cursor meta-l /cursor move area_right

/key bindctxt cursor meta-meta2-23~ /bar scroll nicklist * b
/key bindctxt cursor meta-meta2-24~ /bar scroll nicklist * e
/key bindctxt cursor meta2-23;3~ /bar scroll nicklist * b
/key bindctxt cursor meta2-23~ /bar scroll nicklist * -100%
/key bindctxt cursor meta2-24;3~ /bar scroll nicklist * e
/key bindctxt cursor meta2-24~ /bar scroll nicklist * +100%

/key unbindctxt cursor @item(buffer_nicklist):K
/key unbindctxt cursor @item(buffer_nicklist):b
/key unbindctxt cursor @item(buffer_nicklist):k

/key bindctxt search ctrl-N /input search_next
/key bindctxt search ctrl-P /input search_previous

/print # }}}

/print # Aliases {{{
/print # ----------------------------------------

/alias add A /allserv away
/alias add AFK /allserv away afk
/alias add ALIS /msg Alis
/alias add C /close
/alias add CC /window merge
/alias add CL /buffer clear
/alias add CLA /buffer clear -all
/alias add CLH /buffer clear perl.highmon
/alias add G /grep --hilight --buffer
/alias add GG /grep --hilight
/alias add GNICK /grep_nick
/alias add NICKSERV /msg NickServ
/alias add NSERV /msg NickServ
/alias add S /server jump
/alias add SP /window splith
/alias add TOGGLE_BUFFERS /bar toggle buffers
/alias add VS /window splitv
/alias add WO /window merge all

/print # }}}
