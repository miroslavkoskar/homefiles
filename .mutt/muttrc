# vim: ft=muttrc

# global settings
set abort_nosubject = ask-no
set abort_unmodified = ask-no
set alias_file = ~/.mutt/aliases
set beep_new
set bounce = ask-no
set certificate_file = ~/.mutt/certificates
set delete
set editor = 'e +/^$ ++1 +noh'
set header_cache = ~/.mutt/cache/headers
set history = 100
set history_file = ~/.mutt/history
set ispell = 'aspell -e --email-margin=0 --run-together -c'
set mail_check = 0
set mailcap_path = ~/.mutt/mailcap
set mbox_type = Maildir
set message_cachedir = ~/.mutt/cache/messages
set pipe_decode
set quit
set recall = ask-no
set reverse_alias
set save_history = 100
set sendmail_wait = -1
set sleep_time = 0
set ssl_force_tls
set ssl_starttls
set timeout = 5
unset confirmappend
unset mail_check_recent
unset mark_old
unset use_domain
unset wait_key

# formats
set alias_format = '%4n %t %-20.20a  %r'
set date_format = '%m/%d/%y at %I:%M%P'
set index_format = '%3C [%Z] %D %-15.15F %s'
set query_format = '%4c %t %-35.35a %-25.25n %?e?(%e)?'

# index settings
set reply_regexp = '^(([Rr][Ee]?(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*'
set sort_aux = reverse-date-received
source ~/.mutt/sort-date

# pager settings
alternative_order text/plain text/enriched text/html
auto_view text/html
set menu_scroll
set pager_context = 5
set pager_index_lines = 11
set pager_stop
set quote_regexp = '^( {0,4}[>|:#%]| {0,4}[a-z0-9]+[>|]+)+'
set tilde
unset markers

# compose settings
set askcc
set attribution = 'On %d, %n wrote:'
set edit_headers
set envelope_from
set fast_reply
set fcc_attach
set forward_format = 'Fwd: %s'
set forward_quote
set include
set mime_forward = ask-no
set realname = 'Miroslav Koskar'    # overriden by name in $from, if any
set reply_to
set reverse_name
set signature = ~/.mutt/signature

# headers
hdr_order from: to: cc: date: subject:
ignore *
unignore from: to: cc: date: subject:

# global includes
source $alias_file
source ~/.mutt/accountsrc
source ~/.mutt/colors

# macros
macro generic,pager <F1>    '<shell-escape>pg /usr/share/doc/mutt/manual.txt<enter>' 'show Mutt documentation'
macro index,pager   \ev     '<pipe-message>urlview<enter>' 'follow links with urlview'
macro index,pager   y       '<change-folder>?<toggle-mailboxes>' 'show mailboxes list'
macro index,pager   Z       '<shell-escape>TODO get mail NOW<enter>' 'TODO'
macro index,pager   \ez     '<shell-escape>TODO show log<enter>' 'TODO'
macro index,pager   \cO     '<query>' 'run external address query'
macro index,pager   \cR     '<tag-prefix><clear-flag>N' 'mark all tagged messages as read'

# generic bindings
#                   H           top-page
#                   j           next-entry
#                   k           previous-entry
#                   L           bottom-page
#                   \cL         refresh
#                   M           middle-page
#                   n           search-next
#                   q           exit
#                   t           tag-entry
bind generic        z           noop
bind generic        \cF         next-page
bind generic        Z           noop
bind generic        \cB         previous-page
bind generic        *           noop
bind generic        G           last-entry
bind generic        =           noop
bind generic        gg          first-entry
#                   :           enter-command
#                   >           next-line
#                   <           previous-line
bind generic        [           noop
bind generic        \cU         half-up
bind generic        ]           noop
bind generic        \cD         half-down
bind generic        ?           noop
bind generic        \e?         help
#                   ;           tag-prefix
#                   !           shell-escape
#                   <Return>    select-entry
#                   /           search
#                   \e/         search-reverse
bind generic        ?           search-reverse
bind generic        N           search-opposite
bind generic        z<Return>   current-top
bind generic        zt          current-top
bind generic        z.          current-middle
bind generic        zz          current-middle
bind generic        z-          current-bottom
bind generic        zb          current-bottom

# index/pager bindings
bind index,pager    \cF         next-page           # generic
bind index,pager    \cB         previous-page       # generic
bind index          G           last-entry          # generic
bind index          gg          first-entry         # generic
bind index,pager    \cU         half-up             # generic
bind index,pager    \cD         half-down           # generic
bind index,pager    \#          noop
bind index,pager    I           imap-fetch-mail
bind index,pager    &           noop
bind index          L           bottom-page         # generic
bind index,pager    N           search-opposite     # generic
bind index          J           next-unread
bind index          K           previous-unread
bind index,pager    \ej         next-entry
bind index,pager    \ek         previous-entry
bind index,pager    R           group-reply
bind pager          G           bottom
bind pager          gg          top
bind pager          j           next-line
bind pager          k           previous-line
bind pager          <Down>      next-line
bind pager          <Up>        previous-line
bind pager          J           next-undeleted
bind pager          K           previous-undeleted
bind pager          \e?         help
bind pager          <Return>    exit
bind index          \cG         noop

# alias bindings
bind alias          <Tab>       exit

# query bindings
bind query          \cO         exit

# attach bindings
bind attach         \cF         next-page           # generic
bind attach         \cB         previous-page       # generic
bind attach         G           last-entry          # generic
bind attach         gg          first-entry         # generic
bind attach         L           bottom-page         # generic

# browser bindings
bind browser        N           search-opposite     # generic

# editor bindings
bind editor         \cT         noop
bind editor         \cO         complete-query
bind editor         \cP         history-up
bind editor         \cN         history-down

# sidebar patch
#set nosidebar_visible
#set sidebar_width       = 30
#bind index,pager    }           sidebar-next
#bind index,pager    {           sidebar-prev
#bind index,pager    \eo         sidebar-open
#bind index,pager    \e<Return>  sidebar-open

# xterm patch
#set xterm_set_titles
