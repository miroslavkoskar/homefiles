#!/usr/bin/env bash

set -eu

prgname=${0##*/}

path="${XDG_CACHE_HOME:-$HOME/.cache}/apod/latest"

case $prgname in
    apod-get)
        curl -sL --create-dirs -o "$path" "$(apod)" || exit 1
        ;;
    apod-bg)
        type apod-bgset &>/dev/null \
            && apod-bgset "$path" \
            || feh --bg-max --no-fehbg "$path"
        ;;
esac
