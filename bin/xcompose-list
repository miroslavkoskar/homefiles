#!/usr/bin/env bash

set -eu -o pipefail

{
    ifile=${XCOMPOSEFILE:-~/.XCompose}
    echo $'\n--------------------------------------------------'
    printf '> %s\n\n' "$ifile"

    cat "$ifile"

    ifile="$HOME/.XCompose.rfc1345"
    echo $'\n--------------------------------------------------'
    printf '> %s\n\n' "$ifile"

    cat "$ifile"

    ifile="/usr/share/X11/locale/$LANG/Compose"
    echo $'\n--------------------------------------------------'
    printf '> %s\n\n' "$ifile"

    sed -nr '/^\s*</{s/\s+/ /g; p}' "$ifile" | sort
} | $PAGER
