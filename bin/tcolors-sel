#!/usr/bin/env bash
#
# Scrolls through argument list (or predefined one if there are no arguments)
# and process each item by 'tcolors x', hence changing ANSI terminal colors.

set -eu -o pipefail

if (( ! $# )); then
    set -- ~/.xcolors/default \
        ~/.xcolors/default1 \
        ~/.xcolors/default2 \
        ~/.xcolors/default3
fi

cd ~/.xcolors
scroller "$@" | while read -rs line; do
    cat "$line" resources | tcolors x -
done
