#!/usr/bin/env bash

set -eu

prgname=${0##*/}

if [[ $prgname != 'xscreen0' && $(xserverq name) = 'Xorg' ]]; then
    if [[ $prgname = 'xscreen-mobile' ]]; then
        autorandr -l mobile --force

    elif xrandr | grep -qE '^LVDS1 connected'; then
        autorandr -c -d mobile --force

    else
        autorandr -c --force
    fi
fi

xrandr --dpi 96
xset b off s off dpms 0 0 300
xsetroot -cursor_name left_ptr

type hsetroot &>/dev/null && hsetroot || xsetroot -solid black
