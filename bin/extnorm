#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
    extnorm
    ~~~~~~~

    Normalizes filename extensions by making them lowercase.

    :copyright: Copyright 2013 by Miroslav Koskar
    :license: BSD
"""

import argparse, os
from os import path

parser = argparse.ArgumentParser(
    description='Normalizes filename extensions by making them lowercase.'
)
parser.add_argument('-r', '--recursive', action='store_true',
                    help='operate recursively')
args = parser.parse_args()

for root, dirs, files in os.walk('.'):
    for f in files:
        name, ext = path.splitext(f)

        if ext and not ext.islower():
            src_path = path.join(root, f)
            dst_path = path.join(root, name + ext.lower())

            print(src_path)
            os.rename(src_path, dst_path)

    if not args.recursive:
        break;
