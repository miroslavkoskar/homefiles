#!/usr/bin/env bash
#
# -w            select a window by mouse click
# -s            select a rectangular region by mouse
# -x <n|list>   select the Xinerama head of ID n
# -i            combine regions by intersection

set -eu -o pipefail

(( ! $# )) && set -- -w

cd ~/tmp

echo 'Press [q] to stop, [?] for help'
ffcast -q "$@" rec

last=$(find -maxdepth 1 -type f -name 'screencast-*' -print0 | sort -zr | sed -zn '1p')
if [[ $last ]]; then
    echo "> $last"
    mpv --loop=inf "$last"
fi
