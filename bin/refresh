#!/bin/bash

set -e

if [ $# -eq 0 ]; then
    echo "usage: $(basename "$0") cmd [arg]..."
    exit 2
fi

# DEPRECATED: use `pgx` instead
exec pgx "$@"

tput civis
cleanup() {
    tput clear
    tput cnorm
}
trap cleanup EXIT

while true; do
    tput clear
    echo "$("$@")"

    read -N1 -s c
    case $c in q|Q) break ;; esac
done
