#!/bin/bash

# http://peter.sh/experiments/chromium-command-line-switches/
#
# --disable-software-rasterizer
# --force-gpu-rasterization
# --ignore-gpu-blacklist
# --no-experiments
# --num-raster-threads
# --silent-launch
# --video-threads

set -e

proxy=(
    --proxy-server='127.0.0.1:8118'
    #--proxy-bypass-list='<local>'
)

if [ "$(basename "$0")" = 'ch0' ]; then
    proxy=()
fi

logging=(
    #--enable-logging=stderr
    #--enable-logging
    #--v=1
)

exec google-chrome-stable \
    --force-gpu-rasterization \
    --ignore-gpu-blacklist \
    --restore-last-session \
    "${proxy[@]}" \
    "${logging[@]}" \
    "$@"
