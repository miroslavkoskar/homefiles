#!/bin/bash

set -e

while true; do
    t_begin="$(date +%s.%N)"
    eval "$@"
    t_end="$(date +%s.%N)"
    [ "$(bc <<<"($t_end - $t_begin) < 0.4")" -eq 1 ] && break
done
