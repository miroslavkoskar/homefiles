#!/usr/bin/env bash

set -eu

prgname=${0##*/}

opts=(
    -Dawt.useSystemAAFontSettings=on
    -Dsun.java2d.xrender=true
    -Dswing.aatext=true
)
export _JAVA_OPTIONS="${_JAVA_OPTIONS:+"$_JAVA_OPTIONS "}${opts[*]}"

if [[ $prgname != '_java_options_aa' ]]; then
    PATH=$(sed -r "s,:?$HOME/bin:?,:,g" <<<"$PATH")
    export PATH
    set -- "$prgname" "$@"
fi

exec "$@"
